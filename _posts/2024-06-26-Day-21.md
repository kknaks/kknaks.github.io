[본문 바로가기](#content)  

[거낙이의 하루](https://kk-naks.tistory.com/)
=======================================

블로그 내 검색 검색  
![블로그 이미지](https://t1.daumcdn.net/tistory_admin/static/manage/images/r3/default_L.png)
* [관리](https://kk-naks.tistory.com/manage)
* [글쓰기](https://kk-naks.tistory.com/manage/entry/post )
* [로그인](#)
* [로그아웃](#)
메뉴
* [홈](/)
* [태그](/tag)
* [방명록](/guestbook)
개발자 꿈나무의 하루/02_Coding Test

(코딩테스트) 백준-15684번 효율적인해킹(백트레킹)
==============================

by kk_naks 2024. 6. 26.  

1) 문제
-----

문제  
사다리 게임은 N개의 세로선과 M개의 가로선으로 이루어져 있다. 인접한 세로선 사이에는 가로선을 놓을 수 있는데, 각각의 세로선마다 가로선을 놓을 수 있는 위치의 개수는 H이고, 모든 세로선이 같은 위치를 갖는다. 아래 그림은 N = 5, H = 6 인 경우의 그림이고, 가로선은 없다.
![](https://blog.kakaocdn.net/dn/dReKHp/btsIejWEDrJ/6f9uFvDQ8VeWvPwOxhHKi1/img.png)

초록선은 세로선을 나타내고, 초록선과 점선이 교차하는 점은 가로선을 놓을 수 있는 점이다. 가로선은 인접한 두 세로선을 연결해야 한다. 단, 두 가로선이 연속하거나 서로 접하면 안 된다. 또, 가로선은 점선 위에 있어야 한다.
![](https://blog.kakaocdn.net/dn/cu19dD/btsIcEgWg7w/kIAEifiN4mhGIi1kneSlD1/img.png)

위의 그림에는 가로선이 총 5개 있다. 가로선은 위의 그림과 같이 인접한 두 세로선을 연결해야 하고, 가로선을 놓을 수 있는 위치를 연결해야 한다.

사다리 게임은 각각의 세로선마다 게임을 진행하고, 세로선의 가장 위에서부터 아래 방향으로 내려가야 한다. 이때, 가로선을 만나면 가로선을 이용해 옆 세로선으로 이동한 다음, 이동한 세로선에서 아래 방향으로 이동해야 한다.

위의 그림에서 1번은 3번으로, 2번은 2번으로, 3번은 5번으로, 4번은 1번으로, 5번은 4번으로 도착하게 된다. 아래 두 그림은 1번과 2번이 어떻게 이동했는지 나타내는 그림이다.

|-------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
| ![](https://blog.kakaocdn.net/dn/bp1OsY/btsIeiQXXME/SD06vhJIjeUr7J2cTrCfAk/img.png) | ![](https://blog.kakaocdn.net/dn/bwypRq/btsIdbegqTO/ox31KaRsouS8tEh9RSDPh1/img.png) |

사다리에 가로선을 추가해서, 사다리 게임의 결과를 조작하려고 한다. 이때, i번 세로선의 결과가 i번이 나와야 한다. 그렇게 하기 위해서 추가해야 하는 가로선 개수의 최솟값을 구하는 프로그램을 작성하시오.  

입력
---

첫째 줄에 세로선의 개수 N, 가로선의 개수 M, 세로선마다 가로선을 놓을 수 있는 위치의 개수 H가 주어진다. (2 ≤ N ≤ 10, 1 ≤ H ≤ 30, 0 ≤ M ≤ (N-1)×H)

둘째 줄부터 M개의 줄에는 가로선의 정보가 한 줄에 하나씩 주어진다.

가로선의 정보는 두 정수 a과 b로 나타낸다. (1 ≤ a ≤ H, 1 ≤ b ≤ N-1) b번 세로선과 b+1번 세로선을 a번 점선 위치에서 연결했다는 의미이다.

가장 위에 있는 점선의 번호는 1번이고, 아래로 내려갈 때마다 1이 증가한다. 세로선은 가장 왼쪽에 있는 것의 번호가 1번이고, 오른쪽으로 갈 때마다 1이 증가한다.

입력으로 주어지는 가로선이 서로 연속하는 경우는 없다.  

출력
---

i번 세로선의 결과가 i번이 나오도록 사다리 게임을 조작하려면, 추가해야 하는 가로선 개수의 최솟값을 출력한다. 만약, 정답이 3보다 큰 값이면 -1을 출력한다. 또, 불가능한 경우에도 -1을 출력한다.

예제 입력 1
-------

    5 5 6
    1 1
    3 2
    2 3
    5 1
    5 4

{#sample-input-1}  

예제 출력 1
-------

    3

{#sample-output-1}

2) 풀이
-----

### 2.1) 입력조건

- 시간 복잡도 : 10 \* 30 combination 3 -\> 완전탐색가능

- 하지만 최소값 부터 탐색 했을때 최소값에 걸리면 탐색 종료

### 2.2) 풀이과정

- 근데 못 품 ....

### 2.3) 코드

    //

{#code_1716809445830}

3) 해설
-----

### 3.1) 풀이과정

- 사다리를 한개 설치 하고 탐색한다

- 1번부터 출발해서 확인한다.

- 안되면 하나 더 설치하고 확인한다.

- 1번부터 출발해서 확인한다.

- 안되면 하나더 설치하고 확인한다.

- 모든 점을 확인한다.

- 리턴한다.

### 3.2) 사용된 알고리즘


    bool check()
    {
        for (int i = 1; i <= n; i++)
        {
            int start = i;
            for (int j = 1; j <= h; j++)
            {
                if (visited[j][start])
                    start++;
                if (visited[j][start - 1])
                    start--;
            }
            if (start != i)
                return false;
        }
        return true;
    }
    void go(int here, int cnt)
    {
        if (cnt > 3 || cnt > ret)
            return;
        if (check())
        {
            ret = min(ret, cnt);
            return;
        }
        for (int i = here; i <= h; i++)
        {
            for (int j = 1; j <= n; j++)
            {
                if (visited[i][j] || visited[i][j - 1] || visited[i][j + 1])
                    continue;
                visited[i][j] = 1;
                go(i, cnt + 1);
                visited[i][j] = 0;
            }
        }
    }

{#code_1716809445833}

### 3.3) 완성된 코드

    #include <bits/stdc++.h>
    using namespace std;

    const int INF = 98765421;
    int n, m, h, visited[14][34], y, x, ret = INF;
    bool check()
    {
        for (int i = 1; i <= n; i++)
        {
            int start = i;
            for (int j = 1; j <= h; j++)
            {
                if (visited[j][start])
                    start++;
                if (visited[j][start - 1])
                    start--;
            }
            if (start != i)
                return false;
        }
        return true;
    }
    void go(int here, int cnt)
    {
        if (cnt > 3 || cnt > ret)
            return;
        if (check())
        {
            ret = min(ret, cnt);
            return;
        }
        for (int i = here; i <= h; i++)
        {
            for (int j = 1; j <= n; j++)
            {
                if (visited[i][j] || visited[i][j - 1] || visited[i][j + 1])
                    continue;
                visited[i][j] = 1;
                go(i, cnt + 1);
                visited[i][j] = 0;
            }
        }
    }

    int main()
    {
        cin >> n >> m >> h;
        for (int i = 0; i < m; i++)
        {
            cin >> y >> x;
            visited[y][x] = 1;
        }
        cout << ((ret == INF) ? -1 : ret) << '\n';
        return 0;
    }

{#code_1716809445834}

공유하기  
게시글 관리  
**거낙이의 하루**  

#### '[개발자 꿈나무의 하루](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8) \> [02_Coding Test](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8/02_Coding%20Test)' 카테고리의 다른 글

|      [(코딩테스트) 백준-1189번 컴백홈(BFS)](/49) (1)       | 2024.07.08 |
|      [(코딩테스트) 백준-14620번 꽃길(완전탐색)](/46) (0)      | 2024.07.04 |
| [(코딩테스트) 백준-9934번 완전 이진 트리(이진탐색+재귀함수)](/39) (0) | 2024.06.24 |
|   [(코딩테스트) 백준-2529번 부등호(완전탐색+재귀함수)](/37) (0)    | 2024.06.20 |
|     [(코딩테스트) 백준-1987번 효율적인해킹(DFS)](/34) (0)     | 2024.06.19 |
|-------------------------------------------------|------------|

태그
---

[15684번](/tag/15684%EB%B2%88), [백준](/tag/%EB%B0%B1%EC%A4%80), [백트레킹](/tag/%EB%B0%B1%ED%8A%B8%EB%A0%88%ED%82%B9), [사다리조작](/tag/%EC%82%AC%EB%8B%A4%EB%A6%AC%EC%A1%B0%EC%9E%91), [코딩테스트](/tag/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8)  

관련글
---

* [![](//i1.daumcdn.net/thumb/C176x120/?fname=https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fl0jUs%2FbtsIrIWk8Yo%2FEkBufeRYDfMqGdUXsY4eOk%2Fimg.png) (코딩테스트) 백준-1189번 컴백홈(BFS)](/49?category=1221659)
* [![](//i1.daumcdn.net/thumb/C176x120/?fname=https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FlBBgi%2FbtsIlWnPdZs%2FRcz3t2kB7TK4d21bZ6yhJK%2Fimg.png) (코딩테스트) 백준-14620번 꽃길(완전탐색)](/46?category=1221659)
* [![](//i1.daumcdn.net/thumb/C176x120/?fname=https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fu064T%2FbtsH9YSG1g1%2FNzihFvRMSB53JeznLDD7ek%2Fimg.png) (코딩테스트) 백준-9934번 완전 이진 트리(이진탐색+재귀함수)](/39?category=1221659)
* [(코딩테스트) 백준-2529번 부등호(완전탐색+재귀함수)](/37?category=1221659)  
| * [하루](/category)
|   * [개발자 꿈나무의 하루](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8)
|     * [01_Boot Camp](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8/01_Boot%20Camp)
|     * [02_Coding Test](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8/02_Coding%20Test)
|     * [03_Computer Science](/category/%EA%B0%9C%EB%B0%9C%EC%9E%90%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8/03_Computer%20Science)
|   * [맛집대장 꿈나무의 하루](/category/%EB%A7%9B%EC%A7%91%EB%8C%80%EC%9E%A5%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8)
| * [01_신림동 맛집대장](/category/%EB%A7%9B%EC%A7%91%EB%8C%80%EC%9E%A5%20%EA%BF%88%EB%82%98%EB%AC%B4%EC%9D%98%20%ED%95%98%EB%A3%A8/01_%EC%8B%A0%EB%A6%BC%EB%8F%99%20%EB%A7%9B%EC%A7%91%EB%8C%80%EC%9E%A5)  
|
| 공지사항
| ----
|
| 최근글 {#recent}
| -------------
|
| * [(네이버클라우드 부트캠프) 55일차 - SQL기초 2024.08.12](/69)
| * [(네이버클라우드 부트캠프) 52일차 - MySQL⋯ 2024.08.08](/68)
| * [(네이버클라우드 부트캠프) 51일차 - MySQL⋯ 2024.08.07](/67)
| * [(네이버클라우드 부트캠프) 49\~50일차 - 토이⋯ 2024.08.05](/66)
| * [(네이버클라우드 부트캠프) 48일차 - Java프⋯ 2024.08.05](/65)  
|
| 인기글 {#popular}
| --------------
|
| * [![](//i1.daumcdn.net/thumb/C58x58/?fname=https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FXUlbo%2FbtsHFMTIj2U%2FW64m8dKKVBFAJ9ymSKhaTk%2Fimg.jpg) (신림역 맛집) 전통주맛집 - 솟대막걸리양조장 2024.05.29](/13)
| * [![](//i1.daumcdn.net/thumb/C58x58/?fname=https://img1.daumcdn.net/thumb/R750x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbbZ3SM%2FbtsHCrOTg9U%2FlQsCwLU3ewHbuInh9nJZkK%2Fimg.jpg) (서원동 맛집) 쌈밥맛집 - 시골쌈밥 2024.05.25](/5)
| * [(네이버클라우드 부트캠프) 55일차 - SQL기초 2024.08.12](/69)  
|
| 최근댓글
| ----
|
| 태그
| ---
|
| [부트캠프](/tag/%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%94%84) [인터페이스](/tag/%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4) [1189번](/tag/1189%EB%B2%88) [자바](/tag/%EC%9E%90%EB%B0%94) [자바기초](/tag/%EC%9E%90%EB%B0%94%EA%B8%B0%EC%B4%88) [서원동맛집](/tag/%EC%84%9C%EC%9B%90%EB%8F%99%EB%A7%9B%EC%A7%91) [클래스](/tag/%ED%81%B4%EB%9E%98%EC%8A%A4) [네이버클라우드부트캠프](/tag/%EB%84%A4%EC%9D%B4%EB%B2%84%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%94%84) [코테](/tag/%EC%BD%94%ED%85%8C) [서원동](/tag/%EC%84%9C%EC%9B%90%EB%8F%99) [반복문](/tag/%EB%B0%98%EB%B3%B5%EB%AC%B8) [15684번](/tag/15684%EB%B2%88) [실습프로젝트](/tag/%EC%8B%A4%EC%8A%B5%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8) [데브옵스](/tag/%EB%8D%B0%EB%B8%8C%EC%98%B5%EC%8A%A4) [메서드](/tag/%EB%A9%94%EC%84%9C%EB%93%9C) [BFS](/tag/BFS) [자바프로그래밍기초](/tag/%EC%9E%90%EB%B0%94%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%EA%B8%B0%EC%B4%88) [2529번](/tag/2529%EB%B2%88) [자바프로그래밍 기초](/tag/%EC%9E%90%EB%B0%94%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%20%EA%B8%B0%EC%B4%88) [자바실습](/tag/%EC%9E%90%EB%B0%94%EC%8B%A4%EC%8A%B5) [백준](/tag/%EB%B0%B1%EC%A4%80) [맛집](/tag/%EB%A7%9B%EC%A7%91) [DFS](/tag/DFS) [완전탐색](/tag/%EC%99%84%EC%A0%84%ED%83%90%EC%83%89) [재귀함수](/tag/%EC%9E%AC%EA%B7%80%ED%95%A8%EC%88%98) [네이버클라우드 부트캠프](/tag/%EB%84%A4%EC%9D%B4%EB%B2%84%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C%20%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%94%84) [네이버부트캠프](/tag/%EB%84%A4%EC%9D%B4%EB%B2%84%EB%B6%80%ED%8A%B8%EC%BA%A0%ED%94%84) [자바프로그래밍](/tag/%EC%9E%90%EB%B0%94%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D) [코딩테스트](/tag/%EC%BD%94%EB%94%A9%ED%85%8C%EC%8A%A4%ED%8A%B8) [Java](/tag/Java)  
|
| 전체 방문자
| ------
|
| 480
|
| Today : 2
|
| Yesterday : 1  
| {#aside}

*** ** * ** ***

[TOP](#)

Designed by 티스토리

© Kakao Corp.  

티스토리툴바
------

<br />

